{"ast":null,"code":"var _jsxFileName = \"/Users/shawon/Documents/code life/programming hero/SM-system/frontend/src/pages/admin/subjectRelated/ShowSubjects.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from \"react-router-dom\";\nimport { getSubjectList } from '../../../redux/sclassRelated/sclassHandle';\nimport { deleteUser } from '../../../redux/userRelated/userHandle';\nimport PostAddIcon from '@mui/icons-material/PostAdd';\nimport { Paper, Box, IconButton } from '@mui/material';\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport TableTemplate from '../../../components/TableTemplate';\nimport { BlueButton, GreenButton } from '../../../components/buttonStyles';\nimport SpeedDialTemplate from '../../../components/SpeedDialTemplate';\nimport Popup from '../../../components/Popup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ShowSubjects = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    subjectsList,\n    loading,\n    error,\n    response\n  } = useSelector(state => state.sclass);\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  useEffect(() => {\n    dispatch(getSubjectList(currentUser._id, \"AllSubjects\"));\n  }, [currentUser._id, dispatch]);\n  if (error) {\n    console.log(error);\n  }\n  const [showPopup, setShowPopup] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const deleteHandler = (deleteID, address) => {\n    console.log(deleteID);\n    console.log(address);\n    setMessage(\"Sorry the delete function has been disabled for now.\");\n    setShowPopup(true);\n\n    // dispatch(deleteUser(deleteID, address))\n    //     .then(() => {\n    //         dispatch(getSubjectList(currentUser._id, \"AllSubjects\"));\n    //     })\n  };\n\n  const subjectColumns = [{\n    id: 'subName',\n    label: 'Sub Name',\n    minWidth: 170\n  }, {\n    id: 'sessions',\n    label: 'Sessions',\n    minWidth: 170\n  }, {\n    id: 'sclassName',\n    label: 'Class',\n    minWidth: 170\n  }];\n  const subjectRows = subjectsList.map(subject => {\n    return {\n      subName: subject.subName,\n      sessions: subject.sessions,\n      sclassName: subject.sclassName.sclassName,\n      sclassID: subject.sclassName._id,\n      id: subject._id\n    };\n  });\n  const SubjectsButtonHaver = _ref => {\n    let {\n      row\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => deleteHandler(row.id, \"Subject\"),\n        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n          color: \"error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BlueButton, {\n        variant: \"contained\",\n        onClick: () => navigate(`/Admin/subjects/subject/${row.sclassID}/${row.id}`),\n        children: \"View\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  };\n  const actions = [{\n    icon: /*#__PURE__*/_jsxDEV(PostAddIcon, {\n      color: \"primary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }, this),\n    name: 'Add New Subject',\n    action: () => navigate(\"/Admin/subjects/chooseclass\")\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n      color: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }, this),\n    name: 'Delete All Subjects',\n    action: () => deleteHandler(currentUser._id, \"Subjects\")\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: response ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'flex-end',\n          marginTop: '16px'\n        },\n        children: /*#__PURE__*/_jsxDEV(GreenButton, {\n          variant: \"contained\",\n          onClick: () => navigate(\"/Admin/subjects/chooseclass\"),\n          children: \"Add Subjects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          width: '100%',\n          overflow: 'hidden'\n        },\n        children: [Array.isArray(subjectsList) && subjectsList.length > 0 && /*#__PURE__*/_jsxDEV(TableTemplate, {\n          buttonHaver: SubjectsButtonHaver,\n          columns: subjectColumns,\n          rows: subjectRows\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(SpeedDialTemplate, {\n          actions: actions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }, this)\n    }, void 0, false), /*#__PURE__*/_jsxDEV(Popup, {\n      message: message,\n      setShowPopup: setShowPopup,\n      showPopup: showPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ShowSubjects, \"Zrk/2JpYPEfG088MLOZvoJ8CM2U=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useSelector];\n});\n_c = ShowSubjects;\nexport default ShowSubjects;\nvar _c;\n$RefreshReg$(_c, \"ShowSubjects\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","getSubjectList","deleteUser","PostAddIcon","Paper","Box","IconButton","DeleteIcon","TableTemplate","BlueButton","GreenButton","SpeedDialTemplate","Popup","jsxDEV","_jsxDEV","Fragment","_Fragment","ShowSubjects","_s","navigate","dispatch","subjectsList","loading","error","response","state","sclass","currentUser","user","_id","console","log","showPopup","setShowPopup","message","setMessage","deleteHandler","deleteID","address","subjectColumns","id","label","minWidth","subjectRows","map","subject","subName","sessions","sclassName","sclassID","SubjectsButtonHaver","_ref","row","children","onClick","color","fileName","_jsxFileName","lineNumber","columnNumber","variant","actions","icon","name","action","sx","display","justifyContent","marginTop","width","overflow","Array","isArray","length","buttonHaver","columns","rows","_c","$RefreshReg$"],"sources":["/Users/shawon/Documents/code life/programming hero/SM-system/frontend/src/pages/admin/subjectRelated/ShowSubjects.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from \"react-router-dom\";\nimport { getSubjectList } from '../../../redux/sclassRelated/sclassHandle';\nimport { deleteUser } from '../../../redux/userRelated/userHandle';\nimport PostAddIcon from '@mui/icons-material/PostAdd';\nimport {\n    Paper, Box, IconButton,\n} from '@mui/material';\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport TableTemplate from '../../../components/TableTemplate';\nimport { BlueButton, GreenButton } from '../../../components/buttonStyles';\nimport SpeedDialTemplate from '../../../components/SpeedDialTemplate';\nimport Popup from '../../../components/Popup';\n\nconst ShowSubjects = () => {\n    const navigate = useNavigate()\n    const dispatch = useDispatch();\n    const { subjectsList, loading, error, response } = useSelector((state) => state.sclass);\n    const { currentUser } = useSelector(state => state.user)\n\n    useEffect(() => {\n        dispatch(getSubjectList(currentUser._id, \"AllSubjects\"));\n    }, [currentUser._id, dispatch]);\n\n    if (error) {\n        console.log(error);\n    }\n\n    const [showPopup, setShowPopup] = useState(false);\n    const [message, setMessage] = useState(\"\");\n\n    const deleteHandler = (deleteID, address) => {\n        console.log(deleteID);\n        console.log(address);\n        setMessage(\"Sorry the delete function has been disabled for now.\")\n        setShowPopup(true)\n\n        // dispatch(deleteUser(deleteID, address))\n        //     .then(() => {\n        //         dispatch(getSubjectList(currentUser._id, \"AllSubjects\"));\n        //     })\n    }\n\n    const subjectColumns = [\n        { id: 'subName', label: 'Sub Name', minWidth: 170 },\n        { id: 'sessions', label: 'Sessions', minWidth: 170 },\n        { id: 'sclassName', label: 'Class', minWidth: 170 },\n    ]\n\n    const subjectRows = subjectsList.map((subject) => {\n        return {\n            subName: subject.subName,\n            sessions: subject.sessions,\n            sclassName: subject.sclassName.sclassName,\n            sclassID: subject.sclassName._id,\n            id: subject._id,\n        };\n    })\n\n    const SubjectsButtonHaver = ({ row }) => {\n        return (\n            <>\n                <IconButton onClick={() => deleteHandler(row.id, \"Subject\")}>\n                    <DeleteIcon color=\"error\" />\n                </IconButton>\n                <BlueButton variant=\"contained\"\n                    onClick={() => navigate(`/Admin/subjects/subject/${row.sclassID}/${row.id}`)}>\n                    View\n                </BlueButton>\n            </>\n        );\n    };\n\n    const actions = [\n        {\n            icon: <PostAddIcon color=\"primary\" />, name: 'Add New Subject',\n            action: () => navigate(\"/Admin/subjects/chooseclass\")\n        },\n        {\n            icon: <DeleteIcon color=\"error\" />, name: 'Delete All Subjects',\n            action: () => deleteHandler(currentUser._id, \"Subjects\")\n        }\n    ];\n\n    return (\n        <>\n            {loading ?\n                <div>Loading...</div>\n                :\n                <>\n                    {response ?\n                        <Box sx={{ display: 'flex', justifyContent: 'flex-end', marginTop: '16px' }}>\n                            <GreenButton variant=\"contained\"\n                                onClick={() => navigate(\"/Admin/subjects/chooseclass\")}>\n                                Add Subjects\n                            </GreenButton>\n                        </Box>\n                        :\n                        <Paper sx={{ width: '100%', overflow: 'hidden' }}>\n                            {Array.isArray(subjectsList) && subjectsList.length > 0 &&\n                                <TableTemplate buttonHaver={SubjectsButtonHaver} columns={subjectColumns} rows={subjectRows} />\n                            }\n                            <SpeedDialTemplate actions={actions} />\n                        </Paper>\n                    }\n                </>\n            }\n            <Popup message={message} setShowPopup={setShowPopup} showPopup={showPopup} />\n\n        </>\n    );\n};\n\nexport default ShowSubjects;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}