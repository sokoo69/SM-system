{"ast":null,"code":"import axios from 'axios';\nimport { authRequest, stuffAdded, authSuccess, authFailed, authError, authLogout, doneSuccess, getDeleteSuccess, getRequest, getFailed, getError } from './userSlice';\nexport const loginUser = (fields, role) => async dispatch => {\n  dispatch(authRequest());\n  try {\n    const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Login`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.role) {\n      dispatch(authSuccess(result.data));\n    } else {\n      dispatch(authFailed(result.data.message));\n    }\n  } catch (error) {\n    dispatch(authError(error));\n  }\n};\nexport const registerUser = (fields, role) => async dispatch => {\n  dispatch(authRequest());\n  try {\n    const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Reg`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.schoolName) {\n      dispatch(authSuccess(result.data));\n    } else if (result.data.school) {\n      dispatch(stuffAdded());\n    } else {\n      dispatch(authFailed(result.data.message));\n    }\n  } catch (error) {\n    dispatch(authError(error));\n  }\n};\nexport const logoutUser = () => dispatch => {\n  dispatch(authLogout());\n};\nexport const getUserDetails = (id, address) => async dispatch => {\n  dispatch(getRequest());\n  try {\n    const result = await axios.get(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\n    if (result.data) {\n      dispatch(doneSuccess(result.data));\n    }\n  } catch (error) {\n    dispatch(getError(error));\n  }\n};\n\n// export const deleteUser = (id, address) => async (dispatch) => {\n//     dispatch(getRequest());\n\n//     try {\n//         const result = await axios.delete(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\n//         if (result.data.message) {\n//             dispatch(getFailed(result.data.message));\n//         } else {\n//             dispatch(getDeleteSuccess());\n//         }\n//     } catch (error) {\n//         dispatch(getError(error));\n//     }\n// }\n\nexport const deleteUser = (id, address) => async dispatch => {\n  dispatch(getRequest());\n  dispatch(getFailed(\"Sorry the delete function has been disabled for now.\"));\n};\nexport const updateUser = (fields, id, address) => async dispatch => {\n  dispatch(getRequest());\n  try {\n    const result = await axios.put(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.schoolName) {\n      dispatch(authSuccess(result.data));\n    } else {\n      dispatch(doneSuccess(result.data));\n    }\n  } catch (error) {\n    dispatch(getError(error));\n  }\n};\nexport const addStuff = (fields, address) => async dispatch => {\n  dispatch(authRequest());\n  try {\n    const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${address}Create`, fields, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (result.data.message) {\n      dispatch(authFailed(result.data.message));\n    } else {\n      dispatch(stuffAdded(result.data));\n    }\n  } catch (error) {\n    dispatch(authError(error));\n  }\n};","map":{"version":3,"names":["axios","authRequest","stuffAdded","authSuccess","authFailed","authError","authLogout","doneSuccess","getDeleteSuccess","getRequest","getFailed","getError","loginUser","fields","role","dispatch","result","post","process","env","REACT_APP_BASE_URL","headers","data","message","error","registerUser","schoolName","school","logoutUser","getUserDetails","id","address","get","deleteUser","updateUser","put","addStuff"],"sources":["/Users/shawon/Documents/code life/programming hero/SM-system/frontend/src/redux/userRelated/userHandle.js"],"sourcesContent":["import axios from 'axios';\nimport {\n    authRequest,\n    stuffAdded,\n    authSuccess,\n    authFailed,\n    authError,\n    authLogout,\n    doneSuccess,\n    getDeleteSuccess,\n    getRequest,\n    getFailed,\n    getError,\n} from './userSlice';\n\nexport const loginUser = (fields, role) => async (dispatch) => {\n    dispatch(authRequest());\n\n    try {\n        const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Login`, fields, {\n            headers: { 'Content-Type': 'application/json' },\n        });\n        if (result.data.role) {\n            dispatch(authSuccess(result.data));\n        } else {\n            dispatch(authFailed(result.data.message));\n        }\n    } catch (error) {\n        dispatch(authError(error));\n    }\n};\n\nexport const registerUser = (fields, role) => async (dispatch) => {\n    dispatch(authRequest());\n\n    try {\n        const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${role}Reg`, fields, {\n            headers: { 'Content-Type': 'application/json' },\n        });\n        if (result.data.schoolName) {\n            dispatch(authSuccess(result.data));\n        }\n        else if (result.data.school) {\n            dispatch(stuffAdded());\n        }\n        else {\n            dispatch(authFailed(result.data.message));\n        }\n    } catch (error) {\n        dispatch(authError(error));\n    }\n};\n\nexport const logoutUser = () => (dispatch) => {\n    dispatch(authLogout());\n};\n\nexport const getUserDetails = (id, address) => async (dispatch) => {\n    dispatch(getRequest());\n\n    try {\n        const result = await axios.get(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\n        if (result.data) {\n            dispatch(doneSuccess(result.data));\n        }\n    } catch (error) {\n        dispatch(getError(error));\n    }\n}\n\n// export const deleteUser = (id, address) => async (dispatch) => {\n//     dispatch(getRequest());\n\n//     try {\n//         const result = await axios.delete(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`);\n//         if (result.data.message) {\n//             dispatch(getFailed(result.data.message));\n//         } else {\n//             dispatch(getDeleteSuccess());\n//         }\n//     } catch (error) {\n//         dispatch(getError(error));\n//     }\n// }\n\n\nexport const deleteUser = (id, address) => async (dispatch) => {\n    dispatch(getRequest());\n    dispatch(getFailed(\"Sorry the delete function has been disabled for now.\"));\n}\n\nexport const updateUser = (fields, id, address) => async (dispatch) => {\n    dispatch(getRequest());\n\n    try {\n        const result = await axios.put(`${process.env.REACT_APP_BASE_URL}/${address}/${id}`, fields, {\n            headers: { 'Content-Type': 'application/json' },\n        });\n        if (result.data.schoolName) {\n            dispatch(authSuccess(result.data));\n        }\n        else {\n            dispatch(doneSuccess(result.data));\n        }\n    } catch (error) {\n        dispatch(getError(error));\n    }\n}\n\nexport const addStuff = (fields, address) => async (dispatch) => {\n    dispatch(authRequest());\n\n    try {\n        const result = await axios.post(`${process.env.REACT_APP_BASE_URL}/${address}Create`, fields, {\n            headers: { 'Content-Type': 'application/json' },\n        });\n\n        if (result.data.message) {\n            dispatch(authFailed(result.data.message));\n        } else {\n            dispatch(stuffAdded(result.data));\n        }\n    } catch (error) {\n        dispatch(authError(error));\n    }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}